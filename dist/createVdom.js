!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):"object"==typeof exports?exports.createVdom=t():e.createVdom=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e,t){function n(e){for(var t=f.length-1;t>=0;t--)if(f[t][e])return f[t][e]}function r(e){if(-1===e.indexOf("<TMPL_"))return e;var t=i(u(o.parse(e)).map(c)).join("");return t}function c(){if(this.node){if("Text"===this.node.type)return this.update(this.node.content);if("Condition"===this.node.type){var e=this.node.conditions[0].condition,t=this.node.conditions[0].content,o=null;this.node.otherwise&&(o=this.node.otherwise.content);var i=n(e.name);return this.update(i?t:o,!1)}if("Tag"===this.node.type&&"TMPL_LOOP"===this.node.name){var s=this.node.attributes[0].name;return this.update(n(s).map(function(e,t,n){f.push(e);var r=this.node.content&&u(this.node.content).map(c);return f.pop(),r}.bind(this)),!0)}if("Tag"===this.node.type&&"TMPL_VAR"===this.node.name){var s=this.node.attributes[0].name;return this.update(n(s))}if("Tag"===this.node.type){var l=this.node.attributes.reduce(function(e,t){var n=t.name;return"class"===t.name&&(n="className"),0===n.indexOf("data")?(e.attributes=e.attributes||{},e.attributes[n]=r(t.value)):e[n]=r(t.value),e},{});return this.update(a(this.node.name,l,u(this.node.content).map(c)),!0)}}}var s=o.parse(e),f=[t],l=u(s).map(c);return a("div",{},l)}var o=n(48),i=n(26),u=n(38),a=n(8);e.exports=r},function(e,t){function n(e){return e&&"Widget"===e.type}e.exports=n},function(e,t){e.exports="2"},function(e,t,n){function r(e){return e&&"VirtualNode"===e.type&&e.version===o}var o=n(2);e.exports=r},function(e,t){function n(e){return e&&"Thunk"===e.type}e.exports=n},function(e,t){function n(e){return e&&("function"==typeof e.hook&&!e.hasOwnProperty("hook")||"function"==typeof e.unhook&&!e.hasOwnProperty("unhook"))}e.exports=n},function(e,t,n){function r(e){return e&&"VirtualText"===e.type&&e.version===o}var o=n(2);e.exports=r},function(e,t){function n(e){return"[object Array]"===o.call(e)}var r=Array.isArray,o=Object.prototype.toString;e.exports=r||n},function(e,t,n){var r=n(15);e.exports=r},function(e,t){/*!
	 * Cross-Browser Split 1.1.1
	 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
	 * Available under the MIT License
	 * ECMAScript compliant, uniform cross-browser split method
	 */
e.exports=function(e){var t,n=String.prototype.split,r=/()??/.exec("")[1]===e;return t=function(t,o,i){if("[object RegExp]"!==Object.prototype.toString.call(o))return n.call(t,o,i);var u,a,c,s,f=[],l=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.extended?"x":"")+(o.sticky?"y":""),p=0,o=new RegExp(o.source,l+"g");for(t+="",r||(u=new RegExp("^"+o.source+"$(?!\\s)",l)),i=i===e?-1>>>0:i>>>0;(a=o.exec(t))&&(c=a.index+a[0].length,!(c>p&&(f.push(t.slice(p,a.index)),!r&&a.length>1&&a[0].replace(u,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(a[t]=e)}),a.length>1&&a.index<t.length&&Array.prototype.push.apply(f,a.slice(1)),s=a[0].length,p=c,f.length>=i)));)o.lastIndex===a.index&&o.lastIndex++;return p===t.length?(s||!o.test(""))&&f.push(""):f.push(t.slice(p)),f.length>i?f.slice(0,i):f}}()},function(e,t,n){"use strict";function r(e){var t=e[u];return t||(t=e[u]={}),t}var o=n(12),i="7";o("ev-store",i);var u="__EV_STORE_KEY@"+i;e.exports=r},function(e,t){(function(t){"use strict";function n(e,t){return e in r?r[e]:(r[e]=t,t)}var r="undefined"!=typeof window?window:"undefined"!=typeof t?t:{};e.exports=n}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e,t,n){var r="__INDIVIDUAL_ONE_VERSION_"+e,i=r+"_ENFORCE_SINGLETON",u=o(i,t);if(u!==t)throw new Error("Can only have one copy of "+e+".\nYou already have version "+u+" installed.\nThis means you cannot install version "+t);return o(r,n)}var o=n(11);e.exports=r},function(e,t,n){"use strict";function r(e){return this instanceof r?void(this.value=e):new r(e)}var o=n(10);e.exports=r,r.prototype.hook=function(e,t){var n=o(e),r=t.substr(3);n[r]=this.value},r.prototype.unhook=function(e,t){var n=o(e),r=t.substr(3);n[r]=void 0}},function(e,t){"use strict";function n(e){return this instanceof n?void(this.value=e):new n(e)}e.exports=n,n.prototype.hook=function(e,t){e[t]!==this.value&&(e[t]=this.value)}},function(e,t,n){"use strict";function r(e,t,n){var r,u,c,s,f=[];return!n&&a(t)&&(n=t,u={}),u=u||t||{},r=m(e,u),u.hasOwnProperty("key")&&(c=u.key,u.key=void 0),u.hasOwnProperty("namespace")&&(s=u.namespace,u.namespace=void 0),"INPUT"!==r||s||!u.hasOwnProperty("value")||void 0===u.value||y(u.value)||(u.value=b(u.value)),i(u),void 0!==n&&null!==n&&o(n,f,r,u),new l(r,u,f,c,s)}function o(e,t,n,r){if("string"==typeof e)t.push(new p(e));else if("number"==typeof e)t.push(new p(String(e)));else if(u(e))t.push(e);else{if(!f(e)){if(null===e||void 0===e)return;throw c({foreignObject:e,parentVnode:{tagName:n,properties:r}})}for(var i=0;i<e.length;i++)o(e[i],t,n,r)}}function i(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if(y(n))continue;"ev-"===t.substr(0,3)&&(e[t]=x(n))}}function u(e){return h(e)||v(e)||d(e)||g(e)}function a(e){return"string"==typeof e||f(e)||u(e)}function c(e){var t=new Error;return t.type="virtual-hyperscript.unexpected.virtual-element",t.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+s(e.foreignObject)+".\nThe parent vnode is:\n"+s(e.parentVnode),t.foreignObject=e.foreignObject,t.parentVnode=e.parentVnode,t}function s(e){try{return JSON.stringify(e,null,"    ")}catch(t){return String(e)}}var f=n(7),l=n(17),p=n(18),h=n(3),v=n(6),d=n(1),y=n(5),g=n(4),m=n(16),b=n(14),x=n(13);e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!e)return"DIV";var n=!t.hasOwnProperty("id"),r=o(e,i),a=null;u.test(r[1])&&(a="DIV");var c,s,f,l;for(l=0;l<r.length;l++)s=r[l],s&&(f=s.charAt(0),a?"."===f?(c=c||[],c.push(s.substring(1,s.length))):"#"===f&&n&&(t.id=s.substring(1,s.length)):a=s);return c&&(t.className&&c.push(t.className),t.className=c.join(" ")),t.namespace?a:a.toUpperCase()}var o=n(9),i=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,u=/^\.|#/;e.exports=r},function(e,t,n){function r(e,t,n,r,o){this.tagName=e,this.properties=t||s,this.children=n||f,this.key=null!=r?String(r):void 0,this.namespace="string"==typeof o?o:null;var l,p=n&&n.length||0,h=0,v=!1,d=!1,y=!1;for(var g in t)if(t.hasOwnProperty(g)){var m=t[g];c(m)&&m.unhook&&(l||(l={}),l[g]=m)}for(var b=0;p>b;b++){var x=n[b];i(x)?(h+=x.count||0,!v&&x.hasWidgets&&(v=!0),!d&&x.hasThunks&&(d=!0),y||!x.hooks&&!x.descendantHooks||(y=!0)):!v&&u(x)?"function"==typeof x.destroy&&(v=!0):!d&&a(x)&&(d=!0)}this.count=p+h,this.hasWidgets=v,this.hasThunks=d,this.hooks=l,this.descendantHooks=y}var o=n(2),i=n(3),u=n(1),a=n(4),c=n(5);e.exports=r;var s={},f=[];r.prototype.version=o,r.prototype.type="VirtualNode"},function(e,t,n){function r(e){this.text=String(e)}var o=n(2);e.exports=r,r.prototype.version=o,r.prototype.type="VirtualText"},,,,,,,,function(e,t,n){function r(e,t,n){var r=e?e.length:0;return n&&i(e,t,n)&&(t=!1),r?o(e,t):[]}var o=n(27),i=n(30);e.exports=r},function(e,t,n){function r(e){return!!e&&"object"==typeof e}function o(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function i(e,t,n,u){u||(u=[]);for(var c=-1,l=e.length;++c<l;){var p=e[c];r(p)&&a(p)&&(n||f(p)||s(p))?t?i(p,t,n,u):o(u,p):n||(u[u.length]=p)}return u}function u(e){return function(t){return null==t?void 0:t[e]}}function a(e){return null!=e&&c(p(e))}function c(e){return"number"==typeof e&&e>-1&&e%1==0&&l>=e}var s=n(28),f=n(29),l=9007199254740991,p=u("length");e.exports=i},function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e){return function(t){return null==t?void 0:t[e]}}function o(e){return null!=e&&i(l(e))}function i(e){return"number"==typeof e&&e>-1&&e%1==0&&f>=e}function u(e){return n(e)&&o(e)&&c.call(e,"callee")&&!s.call(e,"callee")}var a=Object.prototype,c=a.hasOwnProperty,s=a.propertyIsEnumerable,f=9007199254740991,l=r("length");e.exports=u},function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t){var n=null==e?void 0:e[t];return a(n)?n:void 0}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&g>=e}function i(e){return u(e)&&v.call(e)==s}function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null==e?!1:i(e)?d.test(p.call(e)):n(e)&&f.test(e)}var c="[object Array]",s="[object Function]",f=/^\[object .+?Constructor\]$/,l=Object.prototype,p=Function.prototype.toString,h=l.hasOwnProperty,v=l.toString,d=RegExp("^"+p.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),y=r(Array,"isArray"),g=9007199254740991,m=y||function(e){return n(e)&&o(e.length)&&v.call(e)==c};e.exports=m},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}function r(e){return null!=e&&u(f(e))}function o(e,t){return e="number"==typeof e||c.test(e)?+e:-1,t=null==t?s:t,e>-1&&e%1==0&&t>e}function i(e,t,n){if(!a(n))return!1;var i=typeof t;if("number"==i?r(n)&&o(t,n.length):"string"==i&&t in n){var u=n[t];return e===e?e===u:u!==u}return!1}function u(e){return"number"==typeof e&&e>-1&&e%1==0&&s>=e}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var c=/^\d+$/,s=9007199254740991,f=n("length");e.exports=i},,,,,,,,function(e,t){function n(e){this.value=e}function r(e,t,n){var r=[],i=[],u=!0;return function a(e){function c(){if("object"==typeof p.node&&null!==p.node){p.keys&&p.node_===p.node||(p.keys=h(p.node)),p.isLeaf=0==p.keys.length;for(var t=0;t<i.length;t++)if(i[t].node_===e){p.circular=i[t];break}}else p.isLeaf=!0,p.keys=null;p.notLeaf=!p.isLeaf,p.notRoot=!p.isRoot}var s=n?o(e):e,f={},l=!0,p={node:s,node_:e,path:[].concat(r),parent:i[i.length-1],parents:i,key:r.slice(-1)[0],isRoot:0===r.length,level:r.length,circular:null,update:function(e,t){p.isRoot||(p.parent.node[p.key]=e),p.node=e,t&&(l=!1)},"delete":function(e){delete p.parent.node[p.key],e&&(l=!1)},remove:function(e){v(p.parent.node)?p.parent.node.splice(p.key,1):delete p.parent.node[p.key],e&&(l=!1)},keys:null,before:function(e){f.before=e},after:function(e){f.after=e},pre:function(e){f.pre=e},post:function(e){f.post=e},stop:function(){u=!1},block:function(){l=!1}};if(!u)return p;c();var g=t.call(p,p.node);return void 0!==g&&p.update&&p.update(g),f.before&&f.before.call(p,p.node),l?("object"!=typeof p.node||null===p.node||p.circular||(i.push(p),c(),d(p.keys,function(e,t){r.push(e),f.pre&&f.pre.call(p,p.node[e],e);var o=a(p.node[e]);n&&y.call(p.node,e)&&(p.node[e]=o.node),o.isLast=t==p.keys.length-1,o.isFirst=0==t,f.post&&f.post.call(p,o),r.pop()}),i.pop()),f.after&&f.after.call(p,p.node),p):p}(e).node}function o(e){if("object"==typeof e&&null!==e){var t;if(v(e))t=[];else if(u(e))t=new Date(e.getTime?e.getTime():e);else if(a(e))t=new RegExp(e);else if(c(e))t={message:e.message};else if(s(e))t=new Boolean(e);else if(f(e))t=new Number(e);else if(l(e))t=new String(e);else if(Object.create&&Object.getPrototypeOf)t=Object.create(Object.getPrototypeOf(e));else if(e.constructor===Object)t={};else{var n=e.constructor&&e.constructor.prototype||e.__proto__||{},r=function(){};r.prototype=n,t=new r}return d(h(e),function(n){t[n]=e[n]}),t}return e}function i(e){return Object.prototype.toString.call(e)}function u(e){return"[object Date]"===i(e)}function a(e){return"[object RegExp]"===i(e)}function c(e){return"[object Error]"===i(e)}function s(e){return"[object Boolean]"===i(e)}function f(e){return"[object Number]"===i(e)}function l(e){return"[object String]"===i(e)}var p=e.exports=function(e){return new n(e)};n.prototype.get=function(e){for(var t=this.value,n=0;n<e.length;n++){var r=e[n];if(!t||!y.call(t,r)){t=void 0;break}t=t[r]}return t},n.prototype.has=function(e){for(var t=this.value,n=0;n<e.length;n++){var r=e[n];if(!t||!y.call(t,r))return!1;t=t[r]}return!0},n.prototype.set=function(e,t){for(var n=this.value,r=0;r<e.length-1;r++){var o=e[r];y.call(n,o)||(n[o]={}),n=n[o]}return n[e[r]]=t,t},n.prototype.map=function(e){return r(this.value,e,!0)},n.prototype.forEach=function(e){return this.value=r(this.value,e,!1),this.value},n.prototype.reduce=function(e,t){var n=1===arguments.length,r=n?this.value:t;return this.forEach(function(t){this.isRoot&&n||(r=e.call(this,r,t))}),r},n.prototype.paths=function(){var e=[];return this.forEach(function(t){e.push(this.path)}),e},n.prototype.nodes=function(){var e=[];return this.forEach(function(t){e.push(this.node)}),e},n.prototype.clone=function(){var e=[],t=[];return function n(r){for(var i=0;i<e.length;i++)if(e[i]===r)return t[i];if("object"==typeof r&&null!==r){var u=o(r);return e.push(r),t.push(u),d(h(r),function(e){u[e]=n(r[e])}),e.pop(),t.pop(),u}return r}(this.value)};var h=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},d=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)};d(h(n.prototype),function(e){p[e]=function(t){var r=[].slice.call(arguments,1),o=new n(t);return o[e].apply(o,r)}});var y=Object.hasOwnProperty||function(e,t){return t in e}},,,,,,,,,,function(e,t){"use strict";e.exports=function(){function e(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function t(e,t,n,r,o,i){this.message=e,this.expected=t,this.found=n,this.offset=r,this.line=o,this.column=i,this.name="SyntaxError"}function n(e){function n(){return e.substring(pr,lr)}function r(){return pr}function o(){return u(pr).line}function i(){return u(pr).column}function u(t){function n(t,n,r){var o,i;for(o=n;r>o;o++)i=e.charAt(o),"\n"===i?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===i||"\u2028"===i||"\u2029"===i?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}return hr!==t&&(hr>t&&(hr=0,vr={line:1,column:1,seenCR:!1}),n(vr,hr,t),hr=t),vr}function a(e){dr>lr||(lr>dr&&(dr=lr,yr=[]),yr.push(e))}function c(n,r,o){function i(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}function a(e,t){function n(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+t(e)})}var r,o,i,u=new Array(e.length);for(i=0;i<e.length;i++)u[i]=e[i].description;return r=e.length>1?u.slice(0,-1).join(", ")+" or "+u[e.length-1]:u[0],o=t?'"'+n(t)+'"':"end of input","Expected "+r+" but "+o+" found."}var c=u(o),s=o<e.length?e.charAt(o):null;return null!==r&&i(r),new t(null!==n?n:a(r,s),r,s,o,c.line,c.column)}function s(){var e,t;for(e=[],t=f(),t===be&&(t=v(),t===be&&(t=h(),t===be&&(t=l(),t===be&&(t=fe(),t===be&&(t=p(),t===be&&(t=d(),t===be&&(t=b())))))));t!==be;)e.push(t),t=f(),t===be&&(t=v(),t===be&&(t=h(),t===be&&(t=l(),t===be&&(t=fe(),t===be&&(t=p(),t===be&&(t=d(),t===be&&(t=b())))))));return e}function f(){var e;return e=C(),e===be&&(e=N(),e===be&&(e=_())),e}function l(){var t,n,r,o,i,u,a,c;if(t=lr,n=te(),n!==be){if(r=lr,o=lr,i=F(),i!==be){if(u=lr,gr++,a=[],c=K(),c!==be)for(;c!==be;)a.push(c),c=K();else a=Ae;gr--,a===be?u=Oe:(lr=u,u=Ae),u!==be?(i=[i,u],o=i):(lr=o,o=Ae)}else lr=o,o=Ae;if(o!==be&&(o=e.substring(r,lr)),r=o,r!==be){for(o=[],i=k();i!==be;)o.push(i),i=k();o!==be?(i=re(),i!==be?(pr=t,n=we(r,o),t=n):(lr=t,t=Ae)):(lr=t,t=Ae)}else lr=t,t=Ae}else lr=t,t=Ae;return t}function p(){var t,n,r,o,i,u,a,c;if(t=lr,n=te(),n!==be){if(r=lr,o=lr,i=he(),i!==be){if(u=lr,gr++,a=[],c=K(),c!==be)for(;c!==be;)a.push(c),c=K();else a=Ae;gr--,a===be?u=Oe:(lr=u,u=Ae),u!==be?(i=[i,u],o=i):(lr=o,o=Ae)}else lr=o,o=Ae;if(o!==be&&(o=e.substring(r,lr)),r=o,r!==be){for(o=[],i=k();i!==be;)o.push(i),i=k();o!==be?(i=oe(),i!==be?(pr=t,n=we(r,o),t=n):(lr=t,t=Ae)):(lr=t,t=Ae)}else lr=t,t=Ae}else lr=t,t=Ae;return t}function h(){var e,t,n,r;return e=lr,t=x(),t!==be?(n=s(),n!==be?(r=T(),r!==be?(pr=e,t=Ee(t,n,r),e=t):(lr=e,e=Ae)):(lr=e,e=Ae)):(lr=e,e=Ae),e}function v(){var e,t,n,r,o,i;if(e=lr,t=A(),t!==be)if(n=s(),n!==be){for(r=[],o=y();o!==be;)r.push(o),o=y();r!==be?(o=g(),o===be&&(o=_e),o!==be?(i=E(),i!==be?(pr=e,t=Ne(t,n,r,o,i),e=t):(lr=e,e=Ae)):(lr=e,e=Ae)):(lr=e,e=Ae)}else lr=e,e=Ae;else lr=e,e=Ae;return e}function d(){var e,t,n,r,o;if(e=lr,t=ne(),t===be&&(t=te()),t!==be)if(n=D(),n!==be){for(r=[],o=k();o!==be;)r.push(o),o=k();r!==be?(o=re(),o!==be?(pr=e,t=Ce(n,r),e=t):(lr=e,e=Ae)):(lr=e,e=Ae)}else lr=e,e=Ae;else lr=e,e=Ae;return e}function y(){var e,t,n;return e=lr,t=O(),t!==be?(n=s(),n!==be?(pr=e,t=ke(t,n),e=t):(lr=e,e=Ae)):(lr=e,e=Ae),e}function g(){var e,t,n;return e=lr,t=w(),t!==be?(n=s(),n!==be?(pr=e,t=Pe(n),e=t):(lr=e,e=Ae)):(lr=e,e=Ae),e}function m(){var e;return e=f(),e===be&&(e=l(),e===be&&(e=x(),e===be&&(e=T(),e===be&&(e=A(),e===be&&(e=O(),e===be&&(e=w(),e===be&&(e=E(),e===be&&(e=d(),e===be&&(e=le(),e===be&&(e=pe())))))))))),e}function b(){var t,n,r,o,i,u;if(t=lr,n=lr,r=[],o=lr,i=lr,gr++,u=m(),gr--,u===be?i=Oe:(lr=i,i=Ae),i!==be?(u=Q(),u!==be?(i=[i,u],o=i):(lr=o,o=Ae)):(lr=o,o=Ae),o!==be)for(;o!==be;)r.push(o),o=lr,i=lr,gr++,u=m(),gr--,u===be?i=Oe:(lr=i,i=Ae),i!==be?(u=Q(),u!==be?(i=[i,u],o=i):(lr=o,o=Ae)):(lr=o,o=Ae);else r=Ae;return r!==be&&(r=e.substring(n,lr)),n=r,n!==be&&(pr=t,n=Le(n)),t=n}function x(){var e,t,n,r,o;if(e=lr,t=te(),t!==be)if(n=U(),n!==be){for(r=[],o=k();o!==be;)r.push(o),o=k();r!==be?(o=re(),o!==be?(pr=e,t=Re(n,r),e=t):(lr=e,e=Ae)):(lr=e,e=Ae)}else lr=e,e=Ae;else lr=e,e=Ae;return e}function T(){var e,t,n,r,o;if(e=lr,t=ne(),t!==be)if(n=U(),n!==be){for(r=[],o=k();o!==be;)r.push(o),o=k();r!==be?(o=re(),o!==be?(pr=e,t=je(n),e=t):(lr=e,e=Ae)):(lr=e,e=Ae)}else lr=e,e=Ae;else lr=e,e=Ae;return e}function A(){var e,t,n,r,o;if(e=lr,t=te(),t!==be)if(n=H(),n!==be){for(r=[],o=k();o!==be;)r.push(o),o=k();r!==be?(o=re(),o!==be?(pr=e,t=Se(n,r),e=t):(lr=e,e=Ae)):(lr=e,e=Ae)}else lr=e,e=Ae;else lr=e,e=Ae;return e}function O(){var e,t,n,r,o;if(e=lr,t=te(),t!==be)if(n=W(),n!==be){for(r=[],o=k();o!==be;)r.push(o),o=k();r!==be?(o=re(),o!==be?(pr=e,t=Ie(r),e=t):(lr=e,e=Ae)):(lr=e,e=Ae)}else lr=e,e=Ae;else lr=e,e=Ae;return e}function w(){var e,t,n,r;return e=lr,t=te(),t!==be?(n=B(),n!==be?(r=re(),r!==be?(t=[t,n,r],e=t):(lr=e,e=Ae)):(lr=e,e=Ae)):(lr=e,e=Ae),e}function E(){var e,t,n,r;return e=lr,t=ne(),t!==be?(n=H(),n!==be?(r=re(),r!==be?(pr=e,t=je(n),e=t):(lr=e,e=Ae)):(lr=e,e=Ae)):(lr=e,e=Ae),e}function _(){var t,n,r,o,i,u,a;if(t=lr,n=J(),n!==be){for(r=lr,o=[],i=lr,u=lr,gr++,a=ee(),gr--,a===be?u=Oe:(lr=u,u=Ae),u!==be?(a=Q(),a!==be?(u=[u,a],i=u):(lr=i,i=Ae)):(lr=i,i=Ae);i!==be;)o.push(i),i=lr,u=lr,gr++,a=ee(),gr--,a===be?u=Oe:(lr=u,u=Ae),u!==be?(a=Q(),a!==be?(u=[u,a],i=u):(lr=i,i=Ae)):(lr=i,i=Ae);o!==be&&(o=e.substring(r,lr)),r=o,r!==be?(pr=t,n=Me(r),t=n):(lr=t,t=Ae)}else lr=t,t=Ae;return t}function N(){var t,n,r,o,i,u,a;if(t=lr,n=Y(),n!==be){for(r=lr,o=[],i=lr,u=lr,gr++,a=ee(),gr--,a===be?u=Oe:(lr=u,u=Ae),u!==be?(a=Q(),a!==be?(u=[u,a],i=u):(lr=i,i=Ae)):(lr=i,i=Ae);i!==be;)o.push(i),i=lr,u=lr,gr++,a=ee(),gr--,a===be?u=Oe:(lr=u,u=Ae),u!==be?(a=Q(),a!==be?(u=[u,a],i=u):(lr=i,i=Ae)):(lr=i,i=Ae);o!==be&&(o=e.substring(r,lr)),r=o,r!==be?(pr=t,n=Ve(r),t=n):(lr=t,t=Ae)}else lr=t,t=Ae;return t}function C(){var t,n,r,o,i,u,a;if(t=lr,n=Z(),n!==be){for(r=lr,o=[],i=lr,u=lr,gr++,a=X(),gr--,a===be?u=Oe:(lr=u,u=Ae),u!==be?(a=Q(),a!==be?(u=[u,a],i=u):(lr=i,i=Ae)):(lr=i,i=Ae);i!==be;)o.push(i),i=lr,u=lr,gr++,a=X(),gr--,a===be?u=Oe:(lr=u,u=Ae),u!==be?(a=Q(),a!==be?(u=[u,a],i=u):(lr=i,i=Ae)):(lr=i,i=Ae);o!==be&&(o=e.substring(r,lr)),r=o,r!==be?(o=X(),o!==be?(pr=t,n=De(r),t=n):(lr=t,t=Ae)):(lr=t,t=Ae)}else lr=t,t=Ae;return t}function k(){var e,t,n;if(e=lr,t=[],n=q(),n!==be)for(;n!==be;)t.push(n),n=q();else t=Ae;if(t!==be?(n=L(),n===be&&(n=R()),n!==be?(pr=e,t=Fe(n),e=t):(lr=e,e=Ae)):(lr=e,e=Ae),e===be){for(e=lr,t=[],n=q();n!==be;)t.push(n),n=q();t!==be?(n=P(),n!==be?(pr=e,t=Ue(n),e=t):(lr=e,e=Ae)):(lr=e,e=Ae)}return e}function P(){var t,n,r,o,i,u,a;if(t=lr,n=ie(),n!==be){for(r=lr,o=[],i=lr,u=lr,gr++,a=ue(),gr--,a===be?u=Oe:(lr=u,u=Ae),u!==be?(a=Q(),a!==be?(u=[u,a],i=u):(lr=i,i=Ae)):(lr=i,i=Ae);i!==be;)o.push(i),i=lr,u=lr,gr++,a=ue(),gr--,a===be?u=Oe:(lr=u,u=Ae),u!==be?(a=Q(),a!==be?(u=[u,a],i=u):(lr=i,i=Ae)):(lr=i,i=Ae);o!==be&&(o=e.substring(r,lr)),r=o,r!==be?(o=ue(),o!==be?(pr=t,n=He(r),t=n):(lr=t,t=Ae)):(lr=t,t=Ae)}else lr=t,t=Ae;return t}function L(){var t,n,r,o;return t=lr,n=j(),n!==be?(61===e.charCodeAt(lr)?(r=We,lr++):(r=be,0===gr&&a(Be)),r!==be?(o=j(),o===be&&(o=P(),o===be&&(o=S())),o!==be?(pr=t,n=Ge(n,o),t=n):(lr=t,t=Ae)):(lr=t,t=Ae)):(lr=t,t=Ae),t}function R(){var e,t;return e=lr,t=j(),t===be&&(t=S()),t!==be&&(pr=e,t=$e(t)),e=t}function j(){var t,n,r,o;if(t=lr,n=lr,r=[],ze.test(e.charAt(lr))?(o=e.charAt(lr),lr++):(o=be,0===gr&&a(Ze)),o!==be)for(;o!==be;)r.push(o),ze.test(e.charAt(lr))?(o=e.charAt(lr),lr++):(o=be,0===gr&&a(Ze));else r=Ae;return r!==be&&(r=e.substring(n,lr)),n=r,n!==be&&(pr=t,n=Xe(n)),t=n}function S(){var e;return e=I(),e===be&&(e=M()),e}function I(){var t,n,r,o;if(t=lr,39===e.charCodeAt(lr)?(n=Ke,lr++):(n=be,0===gr&&a(qe)),n!==be){for(r=[],o=ae();o!==be;)r.push(o),o=ae();r!==be?(39===e.charCodeAt(lr)?(o=Ke,lr++):(o=be,0===gr&&a(qe)),o!==be?(pr=t,n=Ye(r),t=n):(lr=t,t=Ae)):(lr=t,t=Ae)}else lr=t,t=Ae;return t}function M(){var t,n,r,o;if(t=lr,34===e.charCodeAt(lr)?(n=Je,lr++):(n=be,0===gr&&a(Qe)),n!==be){for(r=[],o=ce();o!==be;)r.push(o),o=ce();r!==be?(34===e.charCodeAt(lr)?(o=Je,lr++):(o=be,0===gr&&a(Qe)),o!==be?(pr=t,n=Ye(r),t=n):(lr=t,t=Ae)):(lr=t,t=Ae)}else lr=t,t=Ae;return t}function V(){var e;return e=U(),e===be&&(e=H(),e===be&&(e=W(),e===be&&(e=B()))),e}function D(){var t,n,r,o,i,u;if(t=lr,n=lr,r=lr,gr++,o=V(),gr--,o===be?r=Oe:(lr=r,r=Ae),r!==be)if(e.substr(lr,5)===et?(o=et,lr+=5):(o=be,0===gr&&a(tt)),o!==be){if(i=[],u=K(),u!==be)for(;u!==be;)i.push(u),u=K();else i=Ae;i!==be?(r=[r,o,i],n=r):(lr=n,n=Ae)}else lr=n,n=Ae;else lr=n,n=Ae;return n!==be&&(n=e.substring(t,lr)),t=n}function F(){var t;return e.substr(lr,12)===nt?(t=nt,lr+=12):(t=be,0===gr&&a(rt)),t===be&&(e.substr(lr,8)===ot?(t=ot,lr+=8):(t=be,0===gr&&a(it)),t===be&&(e.substr(lr,6)===ut?(t=ut,lr+=6):(t=be,0===gr&&a(at)))),t}function U(){var t;return e.substr(lr,10)===ct?(t=ct,lr+=10):(t=be,0===gr&&a(st)),t===be&&(e.substr(lr,8)===ft?(t=ft,lr+=8):(t=be,0===gr&&a(lt)),t===be&&(e.substr(lr,9)===pt?(t=pt,lr+=9):(t=be,0===gr&&a(ht)),t===be&&(e.substr(lr,11)===vt?(t=vt,lr+=11):(t=be,0===gr&&a(dt)),t===be&&(e.substr(lr,9)===yt?(t=yt,lr+=9):(t=be,0===gr&&a(gt)),t===be&&(e.substr(lr,7)===mt?(t=mt,lr+=7):(t=be,0===gr&&a(bt))))))),t}function H(){var t;return e.substr(lr,7)===xt?(t=xt,lr+=7):(t=be,0===gr&&a(Tt)),t===be&&(e.substr(lr,11)===At?(t=At,lr+=11):(t=be,0===gr&&a(Ot))),t}function W(){var t;return e.substr(lr,10)===wt?(t=wt,lr+=10):(t=be,0===gr&&a(Et)),t}function B(){var t;return e.substr(lr,9)===_t?(t=_t,lr+=9):(t=be,0===gr&&a(Nt)),t}function G(){var t;return e.substr(lr,12)===Ct?(t=Ct,lr+=12):(t=be,0===gr&&a(kt)),t}function $(){var t,n;return gr++,45===e.charCodeAt(lr)?(t=Lt,lr++):(t=be,0===gr&&a(Rt)),t===be&&(e.substr(lr,2)===jt?(t=jt,lr+=2):(t=be,0===gr&&a(St)),t===be&&(e.substr(lr,2)===It?(t=It,lr+=2):(t=be,0===gr&&a(Mt)),t===be&&(126===e.charCodeAt(lr)?(t=Vt,lr++):(t=be,0===gr&&a(Dt))))),gr--,t===be&&(n=be,0===gr&&a(Pt)),t}function z(){var t,n;return gr++,45===e.charCodeAt(lr)?(t=Lt,lr++):(t=be,0===gr&&a(Rt)),t===be&&(e.substr(lr,2)===Ft?(t=Ft,lr+=2):(t=be,0===gr&&a(Ut)),t===be&&(e.substr(lr,2)===Ht?(t=Ht,lr+=2):(t=be,0===gr&&a(Wt)),t===be&&(126===e.charCodeAt(lr)?(t=Vt,lr++):(t=be,0===gr&&a(Dt))))),gr--,t===be&&(n=be,0===gr&&a(Pt)),t}function Z(){var e,t,n,r;return e=lr,t=te(),t!==be?(n=G(),n!==be?(r=re(),r!==be?(t=[t,n,r],e=t):(lr=e,e=Ae)):(lr=e,e=Ae)):(lr=e,e=Ae),e}function X(){var e,t,n,r;return e=lr,t=ne(),t!==be?(n=G(),n!==be?(r=re(),r!==be?(t=[t,n,r],e=t):(lr=e,e=Ae)):(lr=e,e=Ae)):(lr=e,e=Ae),e}function K(){var t;return Bt.test(e.charAt(lr))?(t=e.charAt(lr),lr++):(t=be,0===gr&&a(Gt)),t}function q(){var t,n;return gr++,9===e.charCodeAt(lr)?(t=zt,lr++):(t=be,0===gr&&a(Zt)),t===be&&(11===e.charCodeAt(lr)?(t=Xt,lr++):(t=be,0===gr&&a(Kt)),t===be&&(12===e.charCodeAt(lr)?(t=qt,lr++):(t=be,0===gr&&a(Yt)),t===be&&(32===e.charCodeAt(lr)?(t=Jt,lr++):(t=be,0===gr&&a(Qt)),t===be&&(160===e.charCodeAt(lr)?(t=en,lr++):(t=be,0===gr&&a(tn)),t===be&&(65279===e.charCodeAt(lr)?(t=nn,lr++):(t=be,0===gr&&a(rn)),t===be&&(on.test(e.charAt(lr))?(t=e.charAt(lr),lr++):(t=be,0===gr&&a(un)),t===be&&(t=ee()))))))),gr--,t===be&&(n=be,0===gr&&a($t)),t}function Y(){var t,n,r,o,i;return t=lr,n=ee(),n!==be?(r=lr,o=lr,gr++,i=J(),gr--,i===be?o=Oe:(lr=o,o=Ae),o!==be?(35===e.charCodeAt(lr)?(i=an,lr++):(i=be,0===gr&&a(cn)),i!==be?(o=[o,i],r=o):(lr=r,r=Ae)):(lr=r,r=Ae),r!==be?(n=[n,r],t=n):(lr=t,t=Ae)):(lr=t,t=Ae),t}function J(){var t;return e.substr(lr,2)===sn?(t=sn,lr+=2):(t=be,0===gr&&a(fn)),t}function Q(){var t;return e.length>lr?(t=e.charAt(lr),lr++):(t=be,0===gr&&a(ln)),t}function ee(){var t,n;return gr++,10===e.charCodeAt(lr)?(t=hn,lr++):(t=be,0===gr&&a(vn)),t===be&&(e.substr(lr,2)===dn?(t=dn,lr+=2):(t=be,0===gr&&a(yn)),t===be&&(13===e.charCodeAt(lr)?(t=gn,lr++):(t=be,0===gr&&a(mn)),t===be&&(8232===e.charCodeAt(lr)?(t=bn,lr++):(t=be,0===gr&&a(xn)),t===be&&(8233===e.charCodeAt(lr)?(t=Tn,lr++):(t=be,0===gr&&a(An)))))),gr--,t===be&&(n=be,0===gr&&a(pn)),t}function te(){var t,n,r,o,i,u;if(t=lr,60===e.charCodeAt(lr)?(n=On,lr++):(n=be,0===gr&&a(wn)),n!==be){if(r=lr,o=$(),o!==be){for(i=[],u=q();u!==be;)i.push(u),u=q();i!==be?(o=[o,i],r=o):(lr=r,r=Ae)}else lr=r,r=Ae;r===be&&(r=_e),r!==be?(n=[n,r],t=n):(lr=t,t=Ae)}else lr=t,t=Ae;return t}function ne(){var t,n,r,o;return t=lr,60===e.charCodeAt(lr)?(n=On,lr++):(n=be,0===gr&&a(wn)),n!==be?(r=$(),r===be&&(r=_e),r!==be?(47===e.charCodeAt(lr)?(o=En,lr++):(o=be,0===gr&&a(_n)),o!==be?(n=[n,r,o],t=n):(lr=t,t=Ae)):(lr=t,t=Ae)):(lr=t,t=Ae),t}function re(){var t,n,r,o;for(t=lr,n=[],r=q();r!==be;)n.push(r),r=q();if(n!==be?(r=z(),r===be&&(r=_e),r!==be?(62===e.charCodeAt(lr)?(o=Nn,lr++):(o=be,0===gr&&a(Cn)),o!==be?(n=[n,r,o],t=n):(lr=t,t=Ae)):(lr=t,t=Ae)):(lr=t,t=Ae),t===be)if(t=lr,n=lr,gr++,62===e.charCodeAt(lr)?(r=Nn,lr++):(r=be,0===gr&&a(Cn)),gr--,r===be?n=Oe:(lr=n,n=Ae),n!==be){if(r=[],o=Q(),o!==be)for(;o!==be;)r.push(o),o=Q();else r=Ae;r!==be?(pr=t,n=kn(),t=n):(lr=t,t=Ae)}else lr=t,t=Ae;return t}function oe(){var t,n,r,o;for(t=lr,n=[],r=q();r!==be;)n.push(r),r=q();if(n!==be?(r=z(),r===be&&(r=_e),r!==be?(e.substr(lr,2)===Pn?(o=Pn,lr+=2):(o=be,0===gr&&a(Ln)),o!==be?(n=[n,r,o],t=n):(lr=t,t=Ae)):(lr=t,t=Ae)):(lr=t,t=Ae),t===be)if(t=lr,n=lr,gr++,62===e.charCodeAt(lr)?(r=Nn,lr++):(r=be,0===gr&&a(Cn)),gr--,r===be?n=Oe:(lr=n,n=Ae),n!==be){if(r=[],o=Q(),o!==be)for(;o!==be;)r.push(o),o=Q();else r=Ae;r!==be?(pr=t,n=kn(),t=n):(lr=t,t=Ae)}else lr=t,t=Ae;return t}function ie(){var t,n,r,o;if(t=lr,e.substr(lr,2)===Rn?(n=Rn,lr+=2):(n=be,0===gr&&a(jn)),n!==be){for(r=[],o=q();o!==be;)r.push(o),o=q();r!==be?(n=[n,r],t=n):(lr=t,t=Ae)}else lr=t,t=Ae;return t}function ue(){var t,n,r;for(t=lr,n=[],r=q();r!==be;)n.push(r),r=q();return n!==be?(e.substr(lr,2)===Sn?(r=Sn,lr+=2):(r=be,0===gr&&a(In)),r!==be?(n=[n,r],t=n):(lr=t,t=Ae)):(lr=t,t=Ae),t}function ae(){var t,n,r;return t=lr,n=lr,gr++,39===e.charCodeAt(lr)?(r=Ke,lr++):(r=be,0===gr&&a(qe)),r===be&&(92===e.charCodeAt(lr)?(r=Mn,lr++):(r=be,0===gr&&a(Vn)),r===be&&(r=ee())),gr--,r===be?n=Oe:(lr=n,n=Ae),n!==be?(r=Q(),r!==be?(pr=t,n=Dn(),t=n):(lr=t,t=Ae)):(lr=t,t=Ae),t===be&&(t=lr,92===e.charCodeAt(lr)?(n=Mn,lr++):(n=be,0===gr&&a(Vn)),n!==be?(r=se(),r!==be?(pr=t,n=Fn(r),t=n):(lr=t,t=Ae)):(lr=t,t=Ae)),t}function ce(){var t,n,r;return t=lr,n=lr,gr++,34===e.charCodeAt(lr)?(r=Je,lr++):(r=be,0===gr&&a(Qe)),r===be&&(92===e.charCodeAt(lr)?(r=Mn,lr++):(r=be,0===gr&&a(Vn)),r===be&&(r=ee())),gr--,r===be?n=Oe:(lr=n,n=Ae),n!==be?(r=Q(),r!==be?(pr=t,n=Dn(),t=n):(lr=t,t=Ae)):(lr=t,t=Ae),t===be&&(t=lr,92===e.charCodeAt(lr)?(n=Mn,lr++):(n=be,0===gr&&a(Vn)),n!==be?(r=se(),r!==be?(pr=t,n=Fn(r),t=n):(lr=t,t=Ae)):(lr=t,t=Ae)),t}function se(){var t,n;return 39===e.charCodeAt(lr)?(t=Ke,lr++):(t=be,0===gr&&a(qe)),t===be&&(34===e.charCodeAt(lr)?(t=Je,lr++):(t=be,0===gr&&a(Qe)),t===be&&(92===e.charCodeAt(lr)?(t=Mn,lr++):(t=be,0===gr&&a(Vn)),t===be&&(t=lr,98===e.charCodeAt(lr)?(n=Un,lr++):(n=be,0===gr&&a(Hn)),n!==be&&(pr=t,n=Wn()),t=n,t===be&&(t=lr,102===e.charCodeAt(lr)?(n=Bn,lr++):(n=be,0===gr&&a(Gn)),n!==be&&(pr=t,n=$n()),t=n,t===be&&(t=lr,110===e.charCodeAt(lr)?(n=zn,lr++):(n=be,0===gr&&a(Zn)),n!==be&&(pr=t,n=Xn()),t=n,t===be&&(t=lr,114===e.charCodeAt(lr)?(n=Kn,lr++):(n=be,0===gr&&a(qn)),n!==be&&(pr=t,n=Yn()),t=n,t===be&&(t=lr,116===e.charCodeAt(lr)?(n=Jn,lr++):(n=be,0===gr&&a(Qn)),n!==be&&(pr=t,n=er()),t=n,t===be&&(t=lr,118===e.charCodeAt(lr)?(n=tr,lr++):(n=be,0===gr&&a(nr)),n!==be&&(pr=t,n=rr()),t=n)))))))),t}function fe(){var e,t,n,r;return e=lr,t=le(),t!==be?(n=s(),n!==be?(r=pe(),r!==be?(pr=e,t=Ee(t,n,r),e=t):(lr=e,e=Ae)):(lr=e,e=Ae)):(lr=e,e=Ae),e}function le(){var t,n,r,o,i;if(t=lr,60===e.charCodeAt(lr)?(n=On,lr++):(n=be,0===gr&&a(wn)),n!==be)if(r=he(),r!==be){for(o=[],i=k();i!==be;)o.push(i),i=k();o!==be?(62===e.charCodeAt(lr)?(i=Nn,lr++):(i=be,0===gr&&a(Cn)),i!==be?(pr=t,n=or(r,o),t=n):(lr=t,t=Ae)):(lr=t,t=Ae)}else lr=t,t=Ae;else lr=t,t=Ae;return t}function pe(){var t,n,r,o;return t=lr,e.substr(lr,2)===ir?(n=ir,lr+=2):(n=be,0===gr&&a(ur)),n!==be?(r=he(),r!==be?(62===e.charCodeAt(lr)?(o=Nn,lr++):(o=be,0===gr&&a(Cn)),o!==be?(pr=t,n=ar(r),t=n):(lr=t,t=Ae)):(lr=t,t=Ae)):(lr=t,t=Ae),t}function he(){var t,n,r;if(t=lr,n=[],cr.test(e.charAt(lr))?(r=e.charAt(lr),lr++):(r=be,0===gr&&a(sr)),r!==be)for(;r!==be;)n.push(r),cr.test(e.charAt(lr))?(r=e.charAt(lr),lr++):(r=be,0===gr&&a(sr));else n=Ae;return n!==be&&(pr=t,n=fr(n)),t=n}function ve(e){return e.join("")}function de(e,t,n){var r=me.reducePositionLookups&&(e.type===mr.TEXT||e.type===mr.CONDITION_BRANCH||e.type===mr.ALTERNATE_CONDITION_BRANCH||e.type===br.EXPRESSION||e.type===br.PAIR||e.type===br.SINGLE);return r||(e.position={line:t(),column:n()}),e}function ye(e,n,r,o){return new t(e,null,null,n(),r(),o())}var ge,me=arguments.length>1?arguments[1]:{},be={},xe={Content:s},Te=s,Ae=be,Oe=void 0,we=function(e,t){return de({type:mr.TAG,name:e,attributes:t},o,i)},Ee=function(e,t,n){if(e.name!=n)throw ye("Expected a </"+e.name+"> but </"+n+"> found.",r,o,i);return de({type:mr.TAG,name:e.name,attributes:e.attributes,content:t},o,i)},_e=null,Ne=function(e,t,n,u,a){if(e.name!=a)throw ye("Expected a </"+e.name+"> but </"+a+"> found.",r,o,i);var c=de({type:mr.CONDITION_BRANCH,condition:e.condition,content:t},o,i),s=[c].concat(n);return de({type:mr.CONDITION,name:e.name,conditions:s,otherwise:u},o,i)},Ce=function(e,t){return de({type:mr.INVALID_TAG,name:e,attributes:t},o,i)},ke=function(e,t){return de({type:mr.CONDITION_BRANCH,condition:e,content:t},o,i)},Pe=function(e){return de({type:mr.ALTERNATE_CONDITION_BRANCH,content:e},o,i)},Le=function(e){return de({type:mr.TEXT,content:e},o,i)},Re=function(e,t){return{name:e,attributes:t}},je=function(e){return e},Se=function(e,t){return{name:e,condition:t[0]||null}},Ie=function(e){return e[0]||null},Me=function(e){return de({type:mr.COMMENT,content:e},o,i)},Ve=function(e){return de({type:mr.COMMENT,content:e},o,xr)},De=function(e){return de({type:mr.COMMENT,content:e},o,i)},Fe=function(e){return e},Ue=function(e){return e},He=function(e){return de({type:br.EXPRESSION,value:e},o,i)},We="=",Be={type:"literal",value:"=",description:'"="'},Ge=function(e,t){return de({type:br.PAIR,name:e,value:t},o,i)},$e=function(e){return de({type:br.SINGLE,name:e,value:null},o,i)},ze=/^[a-zA-Z0-9\-_\/:.{}$]/,Ze={type:"class",value:"[a-zA-Z0-9\\-_\\/:.{}$]",description:"[a-zA-Z0-9\\-_\\/:.{}$]"},Xe=function(e){if(e.indexOf("$")>0)throw ye("Unexpected $ in attribute name.",r,o,i);return e},Ke="'",qe={type:"literal",value:"'",description:'"\'"'},Ye=function(e){return ve(e)},Je='"',Qe={type:"literal",value:'"',description:'"\\""'},et="TMPL_",tt={type:"literal",value:"TMPL_",description:'"TMPL_"'},nt="TMPL_INCLUDE",rt={type:"literal",value:"TMPL_INCLUDE",description:'"TMPL_INCLUDE"'},ot="TMPL_VAR",it={type:"literal",value:"TMPL_VAR",description:'"TMPL_VAR"'},ut="TMPL_V",at={type:"literal",value:"TMPL_V",description:'"TMPL_V"'},ct="TMPL_BLOCK",st={type:"literal",value:"TMPL_BLOCK",description:'"TMPL_BLOCK"'},ft="TMPL_FOR",lt={type:"literal",value:"TMPL_FOR",description:'"TMPL_FOR"'},pt="TMPL_LOOP",ht={type:"literal",value:"TMPL_LOOP",description:'"TMPL_LOOP"'},vt="TMPL_SETVAR",dt={type:"literal",value:"TMPL_SETVAR",description:'"TMPL_SETVAR"'},yt="TMPL_WITH",gt={type:"literal",value:"TMPL_WITH",description:'"TMPL_WITH"'},mt="TMPL_WS",bt={type:"literal",value:"TMPL_WS",description:'"TMPL_WS"'},xt="TMPL_IF",Tt={type:"literal",value:"TMPL_IF",description:'"TMPL_IF"'},At="TMPL_UNLESS",Ot={type:"literal",value:"TMPL_UNLESS",description:'"TMPL_UNLESS"'},wt="TMPL_ELSIF",Et={type:"literal",value:"TMPL_ELSIF",description:'"TMPL_ELSIF"'},_t="TMPL_ELSE",Nt={type:"literal",value:"TMPL_ELSE",description:'"TMPL_ELSE"'},Ct="TMPL_COMMENT",kt={type:"literal",value:"TMPL_COMMENT",description:'"TMPL_COMMENT"'},Pt={type:"other",description:"whitespace control character"},Lt="-",Rt={type:"literal",value:"-",description:'"-"'},jt="~.",St={type:"literal",value:"~.",description:'"~."'},It="~|",Mt={type:"literal",value:"~|",description:'"~|"'},Vt="~",Dt={type:"literal",value:"~",description:'"~"'},Ft=".~",Ut={type:"literal",value:".~",description:'".~"'},Ht="|~",Wt={type:"literal",value:"|~",description:'"|~"'},Bt=/^[a-zA-Z_]/,Gt={type:"class",value:"[a-zA-Z_]",description:"[a-zA-Z_]"},$t={type:"other",description:"whitespace"},zt="	",Zt={type:"literal",value:"	",description:'"\\t"'},Xt="",Kt={type:"literal",value:"",description:'"\\x0B"'},qt="\f",Yt={type:"literal",value:"\f",description:'"\\f"'},Jt=" ",Qt={type:"literal",value:" ",description:'" "'},en=" ",tn={type:"literal",value:" ",description:'"\\xA0"'},nn="\ufeff",rn={type:"literal",value:"\ufeff",description:'"\\uFEFF"'},on=/^[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,un={type:"class",value:"[ \\xA0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]",
description:"[ \\xA0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]"},an="#",cn={type:"literal",value:"#",description:'"#"'},sn="##",fn={type:"literal",value:"##",description:'"##"'},ln={type:"any",description:"any character"},pn={type:"other",description:"end of line"},hn="\n",vn={type:"literal",value:"\n",description:'"\\n"'},dn="\r\n",yn={type:"literal",value:"\r\n",description:'"\\r\\n"'},gn="\r",mn={type:"literal",value:"\r",description:'"\\r"'},bn="\u2028",xn={type:"literal",value:"\u2028",description:'"\\u2028"'},Tn="\u2029",An={type:"literal",value:"\u2029",description:'"\\u2029"'},On="<",wn={type:"literal",value:"<",description:'"<"'},En="/",_n={type:"literal",value:"/",description:'"/"'},Nn=">",Cn={type:"literal",value:">",description:'">"'},kn=function(){throw ye("Expected a closing bracket.",r,o,i)},Pn="/>",Ln={type:"literal",value:"/>",description:'"/>"'},Rn="[%",jn={type:"literal",value:"[%",description:'"[%"'},Sn="%]",In={type:"literal",value:"%]",description:'"%]"'},Mn="\\",Vn={type:"literal",value:"\\",description:'"\\\\"'},Dn=function(){return n()},Fn=function(e){return e},Un="b",Hn={type:"literal",value:"b",description:'"b"'},Wn=function(){return"\b"},Bn="f",Gn={type:"literal",value:"f",description:'"f"'},$n=function(){return"\f"},zn="n",Zn={type:"literal",value:"n",description:'"n"'},Xn=function(){return"\n"},Kn="r",qn={type:"literal",value:"r",description:'"r"'},Yn=function(){return"\r"},Jn="t",Qn={type:"literal",value:"t",description:'"t"'},er=function(){return"	"},tr="v",nr={type:"literal",value:"v",description:'"v"'},rr=function(){return""},or=function(e,t){return{name:e,attributes:t}},ir="</",ur={type:"literal",value:"</",description:'"</"'},ar=function(e){return e},cr=/^[a-zA-Z0-9]/,sr={type:"class",value:"[a-zA-Z0-9]",description:"[a-zA-Z0-9]"},fr=function(e){return e.join("")},lr=0,pr=0,hr=0,vr={line:1,column:1,seenCR:!1},dr=0,yr=[],gr=0;if("startRule"in me){if(!(me.startRule in xe))throw new Error("Can't start parsing from rule \""+me.startRule+'".');Te=xe[me.startRule]}var mr={COMMENT:"Comment",TAG:"Tag",TEXT:"Text",CONDITION:"Condition",CONDITION_BRANCH:"ConditionBranch",ALTERNATE_CONDITION_BRANCH:"AlternateConditionBranch",INVALID_TAG:"InvalidTag"},br={EXPRESSION:"Expression",PAIR:"PairAttribute",SINGLE:"SingleAttribute"},xr=function(){return 1};if(ge=Te(),ge!==be&&lr===e.length)return ge;throw ge!==be&&lr<e.length&&a({type:"end",description:"end of input"}),c(null,yr,dr)}return e(t,Error),{SyntaxError:t,parse:n}}()}])});