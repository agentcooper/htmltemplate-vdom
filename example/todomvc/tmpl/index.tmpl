<TMPL_BLOCK header>
    <header class="header">
        <h1>todos</h1>
        <input
            value="<TMPL_VAR new_todo_label>"
            class="new-todo"
            placeholder="What needs to be done?"
            autofocus/>
    </header>
</TMPL_BLOCK>

<TMPL_BLOCK main_section>
    <section class="main">
        <TMPL_IF [% $left_count == 0 %]>
            <input class="toggle-all" type="checkbox" checked>
        <TMPL_ELSE>
            <input class="toggle-all" type="checkbox">
        </TMPL_IF>
        <label for="toggle-all">Mark all as complete</label>
        <ul class="todo-list">
            <TMPL_FOR todo IN=todos>
                <TMPL_INLINE todo_item
                    BLOCK_NAME="TodoItem"
                    BLOCK_KEY=[% $todo->{label} %]
                    todo=[% $todo %]
                    editing=[% $todo->{editing} %]>
            </TMPL_FOR>
        </ul>
    </section>
</TMPL_BLOCK>

<TMPL_BLOCK footer>
    <footer class="footer">
        <span class="todo-count">
            <TMPL_IF [% $left_count == 1 %]>
                <strong>1</strong> item left
            <TMPL_ELSE>
                <strong><TMPL_VAR left_count></strong> items left
            </TMPL_IF>
        </span>

        ## Remove this if you don't implement routing
        <TMPL_COMMENT>
            <ul class="filters">
                <li>
                    <a class="selected" href="#/">All</a>
                </li>
                <li>
                    <a href="#/active">Active</a>
                </li>
                <li>
                    <a href="#/completed">Completed</a>
                </li>
            </ul>
        </TMPL_COMMENT>

        ## Hidden if no completed items are left â†“
        <TMPL_IF [% $completed_count > 0 %]>
            <button class="clear-completed">Clear completed</button>
        </TMPL_IF>
    </footer>
</TMPL_BLOCK>

<TMPL_BLOCK todo_item>
    ## List items should get the class `editing` when editing and `completed`
    ## when marked as completed
    <li
        class="
            <TMPL_IF todo.completed> completed</TMPL_IF>
            <TMPL_IF todo.editing> editing</TMPL_IF>
        ">
        <div class="view">
            <TMPL_IF todo.completed>
                <input class="toggle" type="checkbox" checked>
            <TMPL_ELSE>
                <input class="toggle" type="checkbox">
            </TMPL_IF>
            <label><TMPL_VAR todo.label></label>
            <button class="destroy"></button>
        </div>
        <input class="edit" value="<TMPL_VAR todo.label_draft>">
    </li>
</TMPL_BLOCK>

<div class="app">
    <section class="todoapp">
        <TMPL_INLINE BLOCK_NAME="Header" header>

        ## This section should be hidden by default and shown when there are todos
        <TMPL_IF [% count($todos) > 0 %]>
            <TMPL_INLINE BLOCK_NAME="Todos" main_section>
        </TMPL_IF>

        ## This footer should hidden by default and shown when there are todos
        <TMPL_IF [% count($todos) > 0 %]>
            <TMPL_INLINE BLOCK_NAME="Footer" footer
                left_count=[% $left_count %]
                completed_count=[% $completed_count %]>
        </TMPL_IF>
    </section>
    <footer class="info">
        <p>Double-click to edit a todo</p>
        <p>Created by <a href="https://github.com/agentcooper">Artem Tyurin</a> and <a href="https://github.com/Lapple">Aziz Yuldoshev</a></p>
        <p>Part of <a href="http://todomvc.com">TodoMVC</a></p>
    </footer>
</div>
