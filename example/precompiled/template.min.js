!function(n,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():n.render=t()}(this,function(){function n(n,t){f.push({local:null,context:n,special:t||null})}function t(){var n=f.pop(),t=d(f),o=n.local;o&&t&&(t.local?u(t.local,o):t.local=o)}function o(n,t,o){for(var e=f.length-1;e>=0;e--){var i=f[e];if(i.local&&t in i.local)return i.local[t];if(i.special&&t in i.special)return i.special[t];if(t in i.context)return i.context[t]}return c(n)?n(t,o):null}function e(n,t,o,e,i){if(!c(n))throw new Error("Can't find block \""+e+'".');this.key=i||null,this.name=e,this.props=o,this._render=t,this._Block=n,this._closure=f.slice()}function i(n,t){this.block=n,this.props=t}function l(n,t){return{__counter__:t+1,__first__:0===t,__last__:t===n.length-1}}function r(n){return n&&"VirtualNode"===n.type}function c(n){return"function"==typeof n}function u(n,t){if(t)for(var o in t)n[o]=t[o];return n}function p(n){return u({},n)}function s(n,t,o){for(var e in n)if(n[e]!==t[e])return!1;return o?!0:s(t,n,!0)}function a(n){setTimeout(n,0)}function d(n){return n[n.length-1]}var f=[];return e.prototype.type="Thunk",e.prototype.render=function(n){var t=this.name,o=this.props,e=this.block;if(!e){var l=n&&n.block&&n._Block===this._Block;l?e=this.block=n.block:(e=this.block=new this._Block(o),e.el=null,e.props=o),c(e.shouldBlockUpdate)&&(this._shouldUpdate=e.shouldBlockUpdate.bind(e))}if(!n||this._shouldUpdate(o)){var s=f;f=this._closure;var a=this._render(o).filter(r);if(1!==a.length)throw new Error('Template provided for "'+t+'" block returns multiple root nodes instead of one.');var h=d(a);f=s,e.props=o;var k=new i(e,o),b=h.properties;return h.properties=u(p(b),{lc:k,attributes:u(p(b.attributes),{"data-block-name":t})}),h.hooks={lc:k},h}return n.vnode},e.prototype._shouldUpdate=function(){return!0},i.prototype.hook=function(n,t,o){var e=this.block;if(o){var i=o.props;c(e.blockDidUpdate)&&!s(this.props,i)&&a(function(){e.blockDidUpdate(i)})}else e.el=n,c(e.blockWillMount)&&e.blockWillMount(),c(e.blockDidMount)&&a(function(){e.blockDidMount()})},i.prototype.unhook=function(n,t,o){var e=this.block;if(o){var i=o.props;c(e.blockWillUpdate)&&!s(this.props,i)&&e.blockWillUpdate(i)}else c(e.blockWillUnmount)&&e.blockWillUnmount()},function(i,r){function c(o){n(o);var e=["\n ",i("li",{className:["item ",p("active")?function(){return["item--active"]}():null].join(""),onclick:p("itemClick").bind(null,p("id"))},["\n ",p("name")," ",i("a",{href:["#/items/",p("id")].join("")},["some link"]),"\n\n ",i("div",{className:"input"},[i("input",{type:"text",placeholder:"Type something here"})]),"\n\n ",i("ul",{},["\n ",(p("inner")||[]).reduce(function(o,e,r,c){return n(e,l(c,r)),o.push.apply(o,["\n ",i("li",{},[p("title")]),"\n "]),t(),o},[]),"\n "]),"\n\n ",i("div",{},[p("city_copy"),p("city")]),"\n\n ",p("active")?function(){return["active"]}():function(){return["not active"]}(),"\n\n ",i("div",{},["\n ",i("button",{onclick:p("counterClick").bind(null,p("id"))},["\n ",i("span",{},["Click me"]),"\n "]),"\n ",i("span",{},[p("counter")]),"\n "]),"\n "]),"\n"];return t(),e}r=r||{};var u=r.blocks||{},p=(r.externals||{},o.bind(null,r.resolveLookup));return function(o){n(o);var r=i("div",{className:"app"},["\n ",i("h2",{},[p("title")]),"\n\n ",i("p",{},[p("description")]),"\n\n ",i("ul",{className:"list"},["\n ",(p("people")||[]).reduce(function(o,i,r,s){return n(i,l(s,r)),o.push.apply(o,["\n ",new e(u.Person,c,{p:p("name"),active:p("active")},"Person"),"\n "]),t(),o},[]),"\n "]),"\n\n ",i("p",{},[i("button",{onclick:p("addClick").bind(null,p("id"))},["Add person"])]),"\n ",i("p",{},[i("button",{onclick:p("popClick").bind(null,p("id"))},["Pop person"])]),"\n\n ",i("div",{},["\n ",i("a",{href:p("githubLink")},[p("githubLink")]),"\n "]),"\n"]);return t(),r}}});